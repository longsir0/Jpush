<style type="text/css">
    .layui-form-item .layui-input-inline {width:230px;}
</style>
<form class="layui-form" action="{:url()}" method="post" id="editForm">
<div class="layui-form-item">
    <label class="layui-form-label">推送标题</label>
    <div class="layui-input-inline">
        <input type="text" class="layui-input field-app_name" name="app_name" lay-verify="required" autocomplete="off" placeholder="应用名称">
    </div>
</div>
<div class="layui-form-item">
    <label class="layui-form-label">推送内容</label>
    <div class="layui-input-inline">
        <input type="text" class="layui-input field-push_content" name="push_content" lay-verify="required" autocomplete="off" placeholder="推送内容">
    </div>
</div>
<div class="layui-form-item">
    <label class="layui-form-label">推送平台</label>
    <div class="layui-input-inline">
        <input type="checkbox" checked="" name="platform" lay-skin="switch" lay-filter="switchTest" lay-text="所有|指定">
        <div id="platform_type" style="display: none;width: 330px;">
        <input type="checkbox" name="platform_type[android]" title="android">
        <input type="checkbox" name="platform_type[ios]" title="ios">
        <input type="checkbox" name="platform_type[winphone]" title="winphone">
        </div>
    </div>
</div>
<input type="hidden" class="field-id" name="id">
<div class="pop-bottom-bar">
    <button type="submit" class="layui-btn layui-btn-normal" lay-submit="" lay-filter="formSubmit" hisi-data="{pop: true, refresh: true}">提交保存</button>
    <a href="javascript:parent.layui.layer.closeAll();" class="layui-btn layui-btn-primary ml10">取消</a>
</div>
</form>
{include file="block/layui" /}
<script>
var formData = {:json_encode($formData)};
layui.use(['form', 'func'], function() {
    var $ = layui.jquery, form = layui.form;
    layui.func.assign(formData);

    form.on('switch(switchTest)', function(data){
        if(this.checked){
            $("#platform_type").hide();
        }else{
            $("#platform_type").show();
        }
    });
});
</script> 